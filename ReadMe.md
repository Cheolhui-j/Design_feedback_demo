# 디자인 피드백 웹 애플리케이션

## 소개
이 프로젝트는 이미지 기반 디자인에 대한 AI 피드백을 제공하는 Gradio 기반 웹 애플리케이션입니다. 사용자는 디자인 이미지를 업로드하고 질문을 입력하면 AI가 이미지를 분석하여 피드백을 제공합니다.

## 기능
- 디자인 이미지 업로드 및 실시간 시각화
- AI와의 대화형 인터페이스
- 카카오톡 스타일의 채팅 UI
- 대화 기록 저장 및 컨텍스트 유지
- 대화 초기화 기능

## 기술 스택
- **Gradio**: 웹 인터페이스 구축
- **LLaVa API**: 이미지 분석 및 텍스트 생성
- **PIL(Python Imaging Library)**: 이미지 처리
- **Requests**: API 통신
- **HTML/CSS**: 사용자 인터페이스 스타일링

## 설치 및 실행 방법

### 필수 요구사항
- Python 3.6+
- Gradio
- Requests
- PIL

### 설치

```bash
pip install gradio requests pillow
```

### 실행

```bash
python app.py
```
실행 후 브라우저에서 `http://localhost:7860`으로 접속할 수 있습니다.

## 환경 설정
코드 상단에 있는 다음 변수를 필요에 따라 수정할 수 있습니다:

```python
llava_api_url = "http://192.168.11.181:11434/api/generate"
llava_model_name = "llava"
llava_system_prompt = "You're participating in an interview..."
```

## 사용 방법
1. 왼쪽 패널에 디자인 이미지를 업로드합니다 (필수).
2. 오른쪽 패널의 텍스트 입력란에 질문이나 피드백 요청을 입력합니다.
3. '전송' 버튼을 클릭하거나 엔터를 눌러 메시지를 전송합니다.
4. AI의 응답을 채팅창에서 확인합니다.
5. 필요한 경우 '대화 초기화' 버튼을 클릭하여 새로운 대화를 시작할 수 있습니다.

## 코드 구조
- **이미지 인코딩 함수**: 업로드된 이미지를 base64로 인코딩
- **채팅 처리 함수**: 사용자 입력과 이미지를 처리하여 AI 응답 생성
- **UI 구성**: Gradio 블록을 사용한 사용자 인터페이스 설계
- **CSS 스타일링**: 카카오톡 스타일의 채팅 인터페이스 구현
- **대화 렌더링**: HTML을 사용한 대화 이력 시각화

## 참고 사항
- 이미지 업로드는 필수입니다. 이미지 없이 메시지를 보낼 경우 오류 메시지가 표시됩니다.
- 대화 기록은 이후 질문에 대한 컨텍스트로 사용됩니다.
- 시스템은 LLaVa API에 연결되어 있으므로 인터넷 연결이 필요합니다.

## 문제 해결
- API 연결 오류가 발생할 경우 `llava_api_url` 설정을 확인하세요.
- 이미지 분석 문제가 발생하면 이미지 형식 및 크기를 확인하세요.
- UI 표시 문제는 브라우저 캐시를 지우고 다시 시도해보세요.